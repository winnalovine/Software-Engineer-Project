<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.groupp.software.mapper.EmployeeMapper">
    <!--    根据部门查询对应工单类型的处理人-->
<!--    department_ltype=0，1，2-->
    <select id="findByparams" resultType="com.groupp.software.entity.Employee">
        SELECT  * FROM employee where (employee_id != 1000 and department_level =#{processingUnit} and department_type=#{formatType} and role_type=2)
    </select>
    <update id="updateByparams" parameterType="map" >
        update mobile_switch_fault_orders
        <if test='answer=="0"'>
            set order_status=#{orderStatus},
            submit_date =#{reviewDate},
            review_feedback=#{reviewFeedback}
        </if>
        <if test='answer=="1"'>
            set order_status=#{orderStatus},
            submit_date =#{reviewDate},
            handler_employee_id=#{handlerEmployeeId}
        </if>
         where  order_id = #{orderId}
    </update>

</mapper>
